# Pay Bot ü§ñ

## –û–ø–∏—Å–∞–Ω–∏–µ üìö
–ë–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã –æ–Ω–ª–∞–π–Ω —É—Å—É–ª–≥.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∞–µ—Ç –∑–∞–∫–∞–∑ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é —Å—É–º–º—É, —Å–∫–∏–¥—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É –∏ —Å–∫–∏–¥—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É

–û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–æ–¥–∏—Ç –æ–ø–ª–∞—Ç—É, –∑–∞–∫–∞–∑ –∑–∞–≤–µ—Ä—à–µ–Ω.


## –°—Ç–µ–∫ ü•û

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã–∂ üêò
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - PostgreSQL

–¢–∞–±–ª–∏—Ü—ã:
- order: –∑–∞–∫–∞–∑—ã
- users: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- data: —Ç–µ–∫—Å—Ç—ã

---

### –Ø–∑—ã–∫ üêç
Python

---

### Docker üê≥
–ö—Ä—É—Ç–∏—Ç—Å—è PSQL –∏ adminer

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ üèõÔ∏è

### model (–†–∞–±–æ—Ç–∞ —Å –ë–î) ùå≠
- connect.py - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- data.py -  –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –∏–∑ –ë–î –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
- order.py - –†–∞–±–æ—Ç–∞ —Å –∑–∞–∫–∞–∑–∞–º–∏ –≤ –ë–î
- user.py - –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –≤ –ë–î

---

### view (–í—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π) üéë
- start.py - –û—Ç–≤–µ—Ç –Ω–∞ –∫–æ–º–º–∞–Ω–¥—É —Å—Ç–∞—Ä—Ç
- payment.py - –®–∞–≥ 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≤–∞–ª—é—Ç—É
- order.py - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å—É–º–º—É –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ —Å–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑
- sum.py - –í—ã–≤–æ–¥–∏–º —Å—É–º–º—É, (–∫—É—Ä—Å+ –ø—Ä–æ—Ü–µ–Ω—Ç)
- no.py  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑—ã–≤–µ—Ç—Å—è –æ—Ç –∑–∞–∫–∞–∑–∞ (–∫–Ω–æ–ø–∫–∞ –ù–µ—Ç)
- yes.py - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è –Ω–∞ —Å—É–º–º—É (–∫–Ω–æ–ø–∫–∞ –î–∞)

---

### controller (–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) üéÆ
- button.py - –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫
- message.py - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
---

### static üåÅ
–•—Ä–∞–Ω—è—Ç—Å—è —Å—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–∫—Ä–∏–Ω—à–æ—Ç)

---

## –î—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã

### bot.py ü§ñ
–ó–∞–ø—É—Å–∫ —Å–∞–º–æ–≥–æ –±–æ—Ç–∞

---

### db.sql „èà
–î–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

### install.sh üöò
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ python –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã
(–í –∏–¥–µ–∞–ª–µ –¥–æ–ª–∂–Ω–æ –≤—Å–µ —Å—Ä–∞–∑—É —Å—Ç–∞–≤–∏—Ç—Å—å—è –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è)


## –ó–∞–¥–µ–ª –Ω–∞ –±—É–¥—É—â–µ–µ
–ö—Ä—É—Ç–æ –±—ã–ª–æ –±—ã —Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ –≤—Å–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ






# Fast Start

### CONFIG

–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª config.py –∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ–ª–æ–∂–∏—Ç—å api –∫–ª—é—á –æ—Ç –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
----

###  –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –≤—Å–µ –Ω—É–∂–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

``` pip install python-telegram-bot ```

``` pip install schedule ```

``` pip install selenium ```

```pip install web-driver ```

```pip install psycopg2-binary ```

-------------

### –ì–∞–π–¥ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ web-driver –¥–ª—è ubuntu

https://tecadmin.net/setup-selenium-with-python-on-ubuntu-debian/

–ù–∏–∂–µ —Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–±-–¥—Ä–∞–π–≤–µ—Ä–∞

```wget -nc https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb```

```sudo apt update```

```sudo apt install -f ./google-chrome-stable_current_amd64.deb```

------

### –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –±–æ—Ç–∞

``` python bot.py```

# –í–ê–ñ–ù–û

–ß—Ç–æ–±—ã –ø–æ—Å–ª–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞—Ä —Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –≤–æ—Ç —Ç–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º

``` nohup python bot.py & ```

nohup —Ç–∞–∫ –∂–µ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–ø—É—Å–∫–∞ ```nohup.out```
–¢–∞–º –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –ª–æ–≥–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

–ß—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å

``` ps aux | grep bot.py ```

```kill 12345```